import reo.fifo1;
import reo.sync;
import reo.syncdrain;

alternator(a[1..3], d[1]) {
  syncdrain(a[i], a[i+1]) sync(a[i+1], x[i+1]) fifo1(x[i+1], d[i])
  sync(a[i], d[i])
  |
  i:<1..(3-1)>
}