fifo(a?,b!) {
	#RBA
	{a, ~b} $m = null, $m' = a
	{~a, b} $m != null, b = $m, $m' = null
}

//producer(a?){
//	#RBA
//	{(a), true}
//	|
//	Java:"Window.Producer"
//}

sync(a?,b!){
	#RBA
	{a,b} a=b
}

syncdrain(a?,b?){
	#RBA
	{a,b} true
}

producer(a!) {
	#RBA {a} true
	Java:"MyTestComponents.producer"
}

test(b[1]!) {
	{ syncdrain(a[i], a[i+1]) | i : <1..250> }
	{ fifo(b[i+1], b[i]) | i : <1..250> }
	{ sync(a[i], b[i]) | i : <1..251> }
	{ producer(a[i]) | i : <1..251> }
}

test1(a?,b?,c!){
	sync(a,c)fifo(b,c)syncdrain(a,b)
}

