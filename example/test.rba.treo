fifo(a?,b!){
	#RBA
	{(a,~b),($q1'==a)&&($q1==null)}
	{(b,~a),(b==$q1)&&($q1!=null)&&($q1'==null)}
}

//producer(a?){
//	#RBA
//	{(a), true}
//	|
//	Java:"Window.Producer"
//}

sync(a?,b!){
	#RBA
	{(a,b),(a==b)}
}

syncdrain(a?,b?){
	#RBA
	{(a,b), true}
}


test(a?,b?,c!){
	sync(a,c)fifo(b,c)syncdrain(a,b)
}


